import{r as s,h as t}from"./p-b1a34f82.js";import{a}from"./p-9135763f.js";class i{constructor(t){s(this,t),this.cargo=[],this.vehicles=[],this.showingCargo=!0}async getUser(){const s=await a.get("http://localhost:3008/user/"+this.match.params.id);this.userData=s.data,this.getCargoAndVehicles()}async getCargoAndVehicles(){const s=await a.get(`http://localhost:3008/user/${this.match.params.id}/cargo`);this.cargo=s.data;const t=await a.get(`http://localhost:3008/user/${this.match.params.id}/vehicle`);this.vehicles=t.data}componentDidLoad(){this.getUser()}setShowingCargo(s){this.showingCargo=s}render(){return t("div",{class:"app-user"},t("header",null,t("h1",null,"Пользователь ",this.match.params.id),t("div",{class:"routes"},t("stencil-route-link",{url:"/cargo",anchorClass:"routeLink",activeClass:"activeRouteLink"},"Грузы"),t("span",{class:"divider"},"|"),t("stencil-route-link",{url:"/vehicle",exact:!0,anchorClass:"routeLink",activeClass:"activeRouteLink"},"Транспорт"),t("span",{class:"divider"},"|"),t("stencil-route-link",{url:"/users",exact:!0,anchorClass:"routeLink",activeClass:"activeRouteLink"},"Пользователи"))),t("main",null,t("div",{class:"users"},t("f-user",{data:this.userData,showButtons:!1}),t("div",{style:{height:"16px"}}),t("f-button",{buttonClass:this.showingCargo?"primary":"secondary",fluid:!0,onTap:()=>this.setShowingCargo(!0)},"Грузы"),t("div",{style:{height:"8px"}}),t("f-button",{buttonClass:this.showingCargo?"secondary":"primary",fluid:!0,onTap:()=>this.setShowingCargo(!1)},"Транспорт")),t("div",{style:{width:"16px"}}),t("div",{class:"list"},this.showingCargo?this.cargo.map(s=>t("f-cargo",{data:s,onChanged:t=>this.cargo[this.cargo.indexOf(s)]=t})):this.vehicles.map(s=>t("f-vehicle",{data:s,onChanged:t=>this.vehicles[this.vehicles.indexOf(s)]=t})))))}static get style(){return"main{padding:16px}header,main{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row}header{background:#f44336;height:64px;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center;-webkit-box-shadow:0 2px 5px 0 rgba(0,0,0,.26);box-shadow:0 2px 5px 0 rgba(0,0,0,.26);padding-left:16px;padding-right:16px}h1,header{color:#fff}h1{font-size:1.4rem;font-weight:600}.divider{margin-left:16px;margin-right:16px;color:hsla(0,0%,100%,.25)}.routeLink{color:#fff;text-decoration:none}.activeRouteLink{color:#fff;font-weight:600}.users{-ms-flex-direction:column;flex-direction:column}.list,.users{display:-ms-flexbox;display:flex}.list{-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-direction:row;flex-direction:row}"}}export{i as app_user};