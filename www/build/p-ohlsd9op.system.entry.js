var __awaiter=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(a,r){function o(t){try{u(i.next(t))}catch(t){r(t)}}function s(t){try{u(i["throw"](t))}catch(t){r(t)}}function u(t){t.done?a(t.value):new n(function(e){e(t.value)}).then(o,s)}u((i=i.apply(t,e||[])).next())})};var __generator=this&&this.__generator||function(t,e){var n={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},i,a,r,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(t){return function(e){return u([t,e])}}function u(o){if(i)throw new TypeError("Generator is already executing.");while(n)try{if(i=1,a&&(r=o[0]&2?a["return"]:o[0]?a["throw"]||((r=a["return"])&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;if(a=0,r)o=[o[0]&2,r.value];switch(o[0]){case 0:case 1:r=o;break;case 4:n.label++;return{value:o[1],done:false};case 5:n.label++;a=o[1];o=[0];continue;case 7:o=n.ops.pop();n.trys.pop();continue;default:if(!(r=n.trys,r=r.length>0&&r[r.length-1])&&(o[0]===6||o[0]===2)){n=0;continue}if(o[0]===3&&(!r||o[1]>r[0]&&o[1]<r[3])){n.label=o[1];break}if(o[0]===6&&n.label<r[1]){n.label=r[1];r=o;break}if(r&&n.label<r[2]){n.label=r[2];n.ops.push(o);break}if(r[2])n.ops.pop();n.trys.pop();continue}o=e.call(t,n)}catch(t){o=[6,t];a=0}finally{i=r=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:true}}};System.register(["./p-f51e9fae.system.js","./p-5f414978.system.js","./p-c6a809dd.system.js","./p-bd2688b1.system.js","./p-f605774b.system.js","./p-4dccee7f.system.js"],function(t){"use strict";var e,n,i,a,r;return{setters:[function(t){e=t.r;n=t.h},function(){},function(){},function(t){i=t.a},function(t){a=t.i},function(t){r=t.v}],execute:function(){var o=function(){function t(t){e(this,t)}t.prototype.toggleVerified=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return[4,i.post("https://api.5zvezd.kz/admin/cargo/"+this.data.meta.id+"/setVerifiedStatus",{status:!this.data.verified})];case 1:t=e.sent();this.data=t.data;this.onChanged(this.data);return[2]}})})};t.prototype.showProfile=function(){this.history.push("/user/"+this.data.owner.id)};t.prototype.render=function(){var t=this;return n("div",{class:"f-cargo"},n("f-card",null,n("f-info",{desc:"Идентификатор",value:this.data.meta.id,color:"#888888"}),n("f-info",{desc:"Город погрузки",value:this.data.departure.name}),n("f-info",{desc:"Город выгрузки",value:this.data.arrival.name}),n("f-info",{desc:"Дата погрузки",value:new Date(this.data.departureTime).toLocaleDateString("ru")}),n("f-properties",{value:this.data.properties}),n("f-info",{desc:"Д×Ш×В (см)",value:this.data.dimensions.length+"×"+this.data.dimensions.width+"×"+this.data.dimensions.height}),n("f-cargo-information",{value:this.data.information}),n("f-info",{desc:"Архивирован",value:this.data.archived?"Да":"Нет"}),n("f-info",{desc:"Верифицирован",value:this.data.verified?"Да":"Нет"}),n("f-info",{desc:"Владелец",value:this.data.owner.id}),n("f-info",{desc:"Создано",value:new Date(this.data.meta.created).toLocaleString("ru")}),n("f-info",{desc:"Обновлено",value:new Date(this.data.meta.updated).toLocaleString("ru")}),n("f-images",{images:this.data.images}),n("f-button",{fluid:true,onTap:function(){return t.toggleVerified()},buttonClass:"primary"},!this.data.verified?"Верифицировать":"Снять верификацию"),n("f-button",{fluid:true,onTap:function(){return t.showProfile()},buttonClass:"secondary"},"Показать профиль")))};Object.defineProperty(t,"style",{get:function(){return".f-cargo{margin:16px}"},enumerable:true,configurable:true});return t}();t("f_cargo",o);a(o);var s=function(){function t(t){e(this,t)}t.prototype.render=function(){return n("div",{class:"f-cargo-information"},n("f-info",{desc:"Описание",value:this.value.description}),n("f-info",{desc:"Тип транспорта",value:r[this.value.vehicleType]}),n("f-info",{desc:"Опасный груз?",value:this.value.dangerous?"Да":"Нет"}))};Object.defineProperty(t,"style",{get:function(){return".f-cargo-information{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row}.f-cargo-information>*{margin-right:16px}"},enumerable:true,configurable:true});return t}();t("f_cargo_information",s)}}});